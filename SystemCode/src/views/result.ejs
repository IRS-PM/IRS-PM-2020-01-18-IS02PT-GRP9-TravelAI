<%- include("partials/header"); -%>

<!--<style>
  th,
  td,
  p,
  input {
    font: 14px Verdana;
  }

  table,
  th,
  td {
    border: solid 1px #DDD;
    border-collapse: collapse;
    padding: 2px 3px;
    text-align: center;
  }

  th {
    font-weight: bold;
  }
</style>-->
<div class="box" id="heading">
  <h1> Travel Plan </h1>
</div>
<table class="table table-hover table-bordered" id="thisTable">
  <thead class="thead-dark">
    <tr>
      <th scope="col">Date</th>
      <th scope="col">City</th>
      <th scope="col">Hotel Cost (S$)</th>
      <th scope="col">Hotel Name</th>
      <th scope="col">Flight Cost (S$)</th>
      <th scope="col">Airline</th>
      <th scope="col">Departure Airport</th>
      <th scope="col">Arrival Airport</th>
      <th scope="col">Departure Timing</th>
      <th scope="col">Arrival Timing</th>
    </tr>
  </thead>
  <tbody id="showData" >

    <tr hidden>
      <th scope="row">1</th>
      <td>Mark</td>
    </tr>
  </tbody>
</table>

<script>
  var dataPO = <%- resultData %>
  console.log(dataPO);

  function createTable() {
    var col = [];
    for (var i = 0; i < dataPO.length; i++) {
      for (var key in dataPO[i]) {
        if (col.indexOf(key) === -1) {
          col.push(key);
        }
      }
    }
    var table = document.getElementById("thisTable"); //document.createElement("table");

    for (var i = 0; i < dataPO.length; i++) {
      var tr = table.insertRow(-1);
      for (var j = 0; j < col.length; j++) {
        var tabCell = tr.insertCell(-1);
        tabCell.innerHTML = dataPO[i][col[j]];
      }
    }
    // TO ADD THE NEWLY CREATED TABLE TO A CONTAINER.
    //var divContainer = document.getElementById("showData");
    //divContainer.innerHTML = "";
    //divContainer.appendChild(table);
  }
  createTable();
</script>

<%- include("partials/footer"); -%>
